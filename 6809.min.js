!function(e,a){"undefined"!=typeof module?module.exports=a():"function"==typeof define&&"object"==typeof define.amd?define(a):this[e]=a()}("CPU6809",function(){var e,a,r,c,s,b,k,n,t,u,B,i=1,A=2,o=4,S=8,D=16,C=32,f=64,L=128,R=65534,v=65530,P=65524,T=65522,M=0,U=[6,0,0,6,6,0,6,6,6,6,6,0,6,6,3,6,0,0,2,4,0,0,5,9,0,2,3,0,3,2,8,6,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,5,5,5,5,0,5,3,6,9,11,0,19,2,0,0,2,2,0,2,2,2,2,2,0,2,2,0,2,2,0,0,2,2,0,2,2,2,2,2,0,2,2,0,2,6,0,0,6,6,0,6,6,6,6,6,0,6,6,3,6,7,0,0,7,7,0,7,7,7,7,7,0,7,7,4,7,2,2,2,4,2,2,2,0,2,2,2,2,4,7,3,0,4,4,4,6,4,4,4,4,4,4,4,4,6,7,5,5,4,4,4,6,4,4,4,4,4,4,4,4,6,7,5,5,5,5,5,7,5,5,5,5,5,5,5,5,7,8,6,6,2,2,2,4,2,2,2,0,2,2,2,2,3,0,3,0,4,4,4,6,4,4,4,4,4,4,4,4,5,5,5,5,4,4,4,6,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,7,5,5,5,5,5,5,5,5,6,6,6,6],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,5,0,4,0,0,0,0,7,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,7,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,8,0,0,0,0,0,0,0,0,8,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7],d=[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],O=function(e,a,r){n|=(128&(e^a^r^r>>1))>>6},N=function(e,a,r){n|=(32768&(e^a^r^r>>1))>>14},I=function(){return 256*e+a},l=function(r){e=r>>8&255,a=255&r},X=function(e){u(--b,255&e)},Y=function(e){u(--b,255&e),u(--b,e>>8&255)},h=function(e){u(--s,255&e)},p=function(e){u(--s,255&e),u(--s,e>>8&255)},w=function(){return B(b++)},G=function(){return 256*B(b++)+B(b++)},$=function(){return B(s++)},g=function(){return 256*B(s++)+B(s++)},J=function(b){var u=0;128&b&&(Y(k),u+=2),64&b&&(Y(s),u+=2),32&b&&(Y(c),u+=2),16&b&&(Y(r),u+=2),8&b&&(X(t),u++),4&b&&(X(a),u++),2&b&&(X(e),u++),1&b&&(X(n),u++),M+=u},m=function(s){var u=0;128&s&&(p(k),u+=2),64&s&&(p(b),u+=2),32&s&&(p(c),u+=2),16&s&&(p(r),u+=2),8&s&&(h(t),u++),4&s&&(h(a),u++),2&s&&(h(e),u++),1&s&&(h(n),u++),M+=u},H=function(b){var u=0;1&b&&(n=w(),u++),2&b&&(e=w(),u++),4&b&&(a=w(),u++),8&b&&(t=w(),u++),16&b&&(r=G(),u+=2),32&b&&(c=G(),u+=2),64&b&&(s=G(),u+=2),128&b&&(k=G(),u+=2),M+=u},V=function(s){var u=0;1&s&&(n=$(),u++),2&s&&(e=$(),u++),4&s&&(a=$(),u++),8&s&&(t=$(),u++),16&s&&(r=g(),u+=2),32&s&&(c=g(),u+=2),64&s&&(b=g(),u+=2),128&s&&(k=g(),u+=2),M+=u},x=function(u){switch(15&u){case 0:return I();case 1:return r;case 2:return c;case 3:return s;case 4:return b;case 5:return k;case 8:return e;case 9:return a;case 10:return n;case 11:return t;default:return null}},y=function(u,B){switch(15&u){case 0:return void l(B);case 1:return void(r=B);case 2:return void(c=B);case 3:return void(s=B);case 4:return void(b=B);case 5:return void(k=B);case 8:return void(e=B);case 9:return void(a=B);case 10:return void(n=B);case 11:return void(t=B);default:return}},W=function(e,a){var r=136&e;(128==r||8==r)&&(r=0),a?(r=x(e>>4),y(e>>4,x(e)),y(e,r)):y(e,x(e>>4))},j=function(e){return e>127?e-256:e},F=function(e){return e>32767?e-65536:e},Q=function(){var e=B(k++);return k&=65535,e},Z=function(){var e=B(k++);k&=65535;var a=B(k++);return k&=65535,256*e+a},q=function(e){var a=B(e++);e&=65535;var r=B(e++);return e&=65535,256*a+r},z=function(e,a){u(e++,a>>8&255),e&=65535,u(e,255&a)},K=function(){var n,t=Q();switch(96&t){case 0:n=r;break;case 32:n=c;break;case 64:n=s;break;case 96:n=b}var u,i=null,A=null;if(128&t){switch(15&t){case 0:A=n,i=n+1,M+=2;break;case 1:A=n,i=n+2,M+=3;break;case 2:i=n-1,A=i,M+=2;break;case 3:i=n-2,A=i,M+=3;break;case 4:A=n;break;case 5:A=n+j(a),M+=1;break;case 6:A=n+j(e),M+=1;break;case 7:A=0;break;case 8:A=n+j(Q()),M+=1;break;case 9:A=n+F(Z()),M+=4;break;case 10:A=0;break;case 11:M+=4,A=n+I();break;case 12:u=j(Q()),A=k+u,M+=1;break;case 13:u=F(Z()),A=k+u,M+=5;break;case 14:A=0;break;case 15:M+=5,A=Z()}A&=65535,16&t&&(A=256*B(A)+B(A+1&65535),M+=3)}else{var o=31&t;o>15&&(o-=32),A=n+o,M+=1}if(null!==i)switch(96&t){case 0:r=i;break;case 32:c=i;break;case 64:s=i;break;case 96:b=i}return 65535&A},_=function(e){n&=~(o|S),0===e&&(n|=o),32768&e&&(n|=S)},ee=function(e){return e++,e&=255,n&=~(o|A|S),n|=d[e],(0===e||128==e)&&(n|=A),e},ae=function(e){return e--,e&=255,n&=~(o|A|S),n|=d[e],(127===e||255==e)&&(n|=A),e},re=function(e,a){var r=e-a;return n&=~(i|o|A|S),n|=d[255&r],256&r&&(n|=i),O(e,a,r),255&r},ce=function(e,a){var r=e-a;return n&=~(i|o|A|S),0===(65535&r)&&(n|=o),32768&r&&(n|=S),65536&r&&(n|=i),N(e,a,r),65535&r},se=function(e,a){var r=e+a;return n&=~(C|i|o|A|S),n|=d[255&r],256&r&&(n|=i),O(e,a,r),16&(r^e^a)&&(n|=C),255&r},be=function(e,a){var r=e+a;return n&=~(i|o|A|S),0===(65535&r)&&(n|=o),32768&r&&(n|=S),65536&r&&(n|=i),N(e,a,r),65535&r},ke=function(e,a){var r=e+a+(n&i);return n&=~(C|i|o|A|S),n|=d[255&r],256&r&&(n|=i),O(e,a,r),16&(r^e^a)&&(n|=C),255&r},ne=function(e,a){var r=e-a-(n&i);return n&=~(i|o|A|S),n|=d[255&r],256&r&&(n|=i),O(e,a,r),255&r},te=function(e,a){var r=e-a;n&=~(i|o|A|S),n|=d[255&r],256&r&&(n|=i),O(e,a,r)},ue=function(e,a){var r=e-a;n&=~(i|o|A|S),0===(65535&r)&&(n|=o),32768&r&&(n|=S),65536&r&&(n|=i),N(e,a,r)},Be=function(e){return n&=~(i|o|A|S),128==e&&(n|=A),e=(255&~e)+1,0===e&&(n|=o),128&e&&(n|=S|i),e},ie=function(e){return n&=~(o|i|S),1&e&&(n|=i),e>>=1,0===e&&(n|=o),255&e},Ae=function(e){return n&=~(o|i|S),1&e&&(n|=i),e=128&e|e>>1,n|=d[e],e},oe=function(e){var a=e;return n&=~(o|i|S|A),128&e&&(n|=i),e<<=1,n|=d[e],128&(e^a)&&(n|=A),e},Se=function(e){var a=e,r=n&i;return n&=~(o|i|S|A),128&e&&(n|=i),e=e<<1|r,n|=d[e],128&(e^a)&&(n|=A),e},De=function(e){var a=n&i;return n&=~(o|i|S),1&e&&(n|=i),e=e>>1|a<<7,n|=d[e],e},Ce=function(e,a){return n&=~(o|S|A),e^=a,n|=d[e],e},fe=function(e,a){return n&=~(o|S|A),e|=a,n|=d[e],e},Le=function(e,a){return n&=~(o|S|A),e&=a,n|=d[e],e},Re=function(e){return n&=~(o|S|A),e^=255,n|=d[e],n|=i,e},ve=function(){return 256*t+Q()},Pe=function(){var C=M,R=null,O=null,N=Q();switch(M+=U[N],N){case 0:R=ve(),u(R,Be(B(R)));break;case 3:R=ve(),u(R,Re(B(R)));break;case 4:R=ve(),u(R,ie(B(R)));break;case 6:R=ve(),u(R,De(B(R)));break;case 7:R=ve(),u(R,Ae(B(R)));break;case 8:R=ve(),u(R,oe(B(R)));break;case 9:R=ve(),u(R,Se(B(R)));break;case 10:R=ve(),u(R,ae(B(R)));break;case 12:R=ve(),u(R,ee(B(R)));break;case 13:R=ve(),O=B(R),n&=~(o|S|A),n|=d[O];break;case 14:R=ve(),k=R;break;case 15:R=ve(),u(R,0),n&=~(i|S|A),n|=o;break;case 18:break;case 19:break;case 22:R=F(Z()),k+=R;break;case 23:R=F(Z()),Y(k),k+=R;break;case 25:var h=0,p=240&e,$=15&e;($>9||32&n)&&(h|=6),p>128&&$>9&&(h|=96),(p>144||1&n)&&(h|=96),R=h+e,n&=~(i|S|o|A),256&R&&(n|=i),e=255&R,n|=flags[e];break;case 26:n|=Q();break;case 28:n&=Q();break;case 29:e=128&a?255:0,_(I()),n&=~A;break;case 30:O=Q(),W(O,!0);break;case 31:O=Q(),W(O,!1);break;case 32:R=j(Q()),k+=R;break;case 33:R=j(Q());break;case 34:R=j(Q()),n&(i|o)||(k+=R);break;case 35:R=j(Q()),n&(i|o)&&(k+=R);break;case 36:R=j(Q()),n&i||(k+=R);break;case 37:R=j(Q()),n&i&&(k+=R);break;case 38:R=j(Q()),n&o||(k+=R);break;case 39:R=j(Q()),n&o&&(k+=R);break;case 40:R=j(Q()),n&A||(k+=R);break;case 41:R=j(Q()),n&A&&(k+=R);break;case 42:R=j(Q()),n&S||(k+=R);break;case 43:R=j(Q()),n&S&&(k+=R);break;case 44:R=j(Q()),n&S^(n&A)<<2||(k+=R);break;case 45:R=j(Q()),n&S^(n&A)<<2&&(k+=R);break;case 46:R=j(Q()),n&S^(n&A)<<2||n&o||(k+=R);break;case 47:R=j(Q()),(n&S^(n&A)<<2||n&o)&&(k+=R);break;case 48:r=K(),0===r?n|=o:n&=~o;break;case 49:c=K(),0===c?n|=o:n&=~o;break;case 50:b=K();break;case 51:s=K();break;case 52:J(Q());break;case 53:H(Q());break;case 54:m(Q());break;case 55:V(Q());break;case 57:k=G();break;case 58:r+=a;break;case 59:n=w(),cc&L&&(M+=9,e=w(),a=w(),t=w(),r=G(),c=G(),s=G()),k=G();break;case 60:n&=Q();break;case 61:R=e*a,0===R?n|=o:n&=~o,128&R?n|=i:n&=~i,l(R);break;case 63:n|=L,Y(k),Y(s),Y(c),Y(r),X(t),X(a),X(e),X(n),n|=D|f,k=q(v);break;case 64:e=Be(e);break;case 67:e=Re(e);break;case 68:e=ie(e);break;case 70:e=De(e);break;case 71:e=Ae(e);break;case 72:e=oe(e);break;case 73:e=Se(e);break;case 74:e=ae(e);break;case 76:e=ee(e);break;case 77:n&=~(o|S|A),n|=d[e];break;case 79:e=0,n&=~(S|A|i),n|=o;break;case 80:a=Be(a);break;case 83:a=Re(a);break;case 84:a=ie(a);break;case 86:a=De(a);break;case 87:a=Ae(a);break;case 88:a=oe(a);break;case 89:a=Se(a);break;case 90:a=ae(a);break;case 92:a=ee(a);break;case 93:n&=~(o|S|A),n|=d[a];break;case 95:a=0,n&=~(S|A|i),n|=o;break;case 96:R=K(),u(R,Be(B(R)));break;case 99:R=K(),u(R,Re(B(R)));break;case 100:R=K(),u(R,ie(B(R)));break;case 102:R=K(),u(R,De(B(R)));break;case 103:R=K(),u(R,Ae(B(R)));break;case 104:R=K(),u(R,oe(B(R)));break;case 105:R=K(),u(R,Se(B(R)));break;case 106:R=K(),u(R,ae(B(R)));break;case 108:R=K(),u(R,ee(B(R)));break;case 109:R=K(),O=B(R),n&=~(o|S|A),n|=d[O];break;case 110:R=K(),k=R;break;case 111:R=K(),u(R,0),n&=~(i|S|A),n|=o;break;case 112:R=Z(),u(R,Be(B(R)));break;case 115:R=Z(),u(R,Re(B(R)));break;case 116:R=Z(),u(R,ie(B(R)));break;case 118:R=Z(),u(R,De(B(R)));break;case 119:R=Z(),u(R,Ae(B(R)));break;case 120:R=Z(),u(R,oe(B(R)));break;case 121:R=Z(),u(R,Se(B(R)));break;case 122:R=Z(),u(R,ae(B(R)));break;case 124:R=Z(),u(R,ee(B(R)));break;case 125:R=Z(),O=B(R),n&=~(o|S|A),n|=d[O];break;case 126:R=Z(),k=R;break;case 127:R=Z(),u(R,0),n&=~(i|S|A),n|=o;break;case 128:e=re(e,Q());break;case 129:te(e,Q());break;case 130:e=ne(e,Q());break;case 131:l(ce(I(),Z()));break;case 132:e=Le(e,Q());break;case 133:Le(e,Q());break;case 134:e=Q(),n&=~(o|S|A),n|=d[e];break;case 136:e=Ce(e,Q());break;case 137:e=ke(e,Q());break;case 138:e=fe(e,Q());break;case 139:e=se(e,Q());break;case 140:ue(r,Z());break;case 141:R=j(Q()),Y(k),k+=R;break;case 142:r=Z(),_(r),n&=~A;break;case 144:R=ve(),e=re(e,B(R));break;case 145:R=ve(),te(e,B(R));break;case 146:R=ve(),e=ne(e,B(R));break;case 147:R=ve(),l(ce(I(),q(R)));break;case 148:R=ve(),e=Le(e,B(R));break;case 149:R=ve(),Le(e,B(R));break;case 150:R=ve(),e=B(R),n&=~(o|S|A),n|=d[e];break;case 151:R=ve(),u(R,e),n&=~(o|S|A),n|=d[e];break;case 152:R=ve(),e=Ce(e,B(R));break;case 153:R=ve(),e=ke(e,B(R));break;case 154:R=ve(),e=fe(e,B(R));break;case 155:R=ve(),e=se(e,B(R));break;case 156:R=ve(),ue(r,q(R));break;case 157:R=ve(),Y(k),k=R;break;case 158:R=ve(),r=q(R),_(r),n&=~A;break;case 159:R=ve(),z(R,r),_(r),n&=~A;break;case 160:R=K(),e=re(e,B(R));break;case 161:R=K(),te(e,B(R));break;case 162:R=K(),e=ne(e,B(R));break;case 163:R=K(),l(ce(I(),q(R)));break;case 164:R=K(),e=Le(e,B(R));break;case 165:R=K(),Le(e,B(R));break;case 166:R=K(),e=B(R),n&=~(o|S|A),n|=d[e];break;case 167:R=K(),u(R,e),n&=~(o|S|A),n|=d[e];break;case 168:R=K(),e=Ce(e,B(R));break;case 169:R=K(),e=ke(e,B(R));break;case 170:R=K(),e=fe(e,B(R));break;case 171:R=K(),e=se(e,B(R));break;case 172:R=K(),ue(r,q(R));break;case 173:R=K(),Y(k),k=R;break;case 174:R=K(),r=q(R),_(r),n&=~A;break;case 175:R=K(),z(R,r),_(r),n&=~A;break;case 176:R=Z(),e=re(e,B(R));break;case 177:R=Z(),te(e,B(R));break;case 178:R=Z(),e=ne(e,B(R));break;case 179:R=Z(),l(ce(I(),q(R)));break;case 180:R=Z(),e=Le(e,B(R));break;case 181:R=Z(),Le(e,B(R));break;case 182:R=Z(),e=B(R),n&=~(o|S|A),n|=d[e];break;case 183:R=Z(),u(R,e),n&=~(o|S|A),n|=d[e];break;case 184:R=Z(),e=Ce(e,B(R));break;case 185:R=Z(),e=ke(e,B(R));break;case 186:R=Z(),e=fe(e,B(R));break;case 187:R=Z(),e=se(e,B(R));break;case 188:R=Z(),ue(r,q(R));break;case 189:R=Z(),Y(k),k=R;break;case 190:R=Z(),r=q(R),_(r),n&=~A;break;case 191:R=Z(),z(R,r),_(r),n&=~A;break;case 192:a=re(a,Q());break;case 193:te(a,Q());break;case 194:a=ne(a,Q());break;case 195:l(be(I(),Z()));break;case 196:a=Le(a,Q());break;case 197:Le(a,Q());break;case 198:a=Q(),n&=~(o|S|A),n|=d[a];break;case 200:a=Ce(a,Q());break;case 201:a=ke(a,Q());break;case 202:a=fe(a,Q());break;case 203:a=se(a,Q());break;case 204:R=Z(),l(R),_(R),n&=~A;break;case 206:s=Z(),_(s),n&=~A;break;case 208:R=ve(),a=re(a,B(R));break;case 209:R=ve(),te(a,B(R));break;case 210:R=ve(),a=ne(a,B(R));break;case 211:R=ve(),l(be(I(),q(R)));break;case 212:R=ve(),a=Le(a,B(R));break;case 213:R=ve(),Le(a,B(R));break;case 214:R=ve(),a=B(R),n&=~(o|S|A),n|=d[a];break;case 215:R=ve(),u(R,a),n&=~(o|S|A),n|=d[a];break;case 216:R=ve(),a=Ce(a,B(R));break;case 217:R=ve(),a=ke(a,B(R));break;case 218:R=ve(),a=fe(a,B(R));break;case 219:R=ve(),a=se(a,B(R));break;case 220:R=ve(),O=q(R),l(O),_(O),n&=~A;break;case 221:R=ve(),z(R,I()),n&=~A;break;case 222:R=ve(),s=q(R),_(r),n&=~A;break;case 223:R=ve(),z(R,s),_(s),n&=~A;break;case 224:R=K(),a=re(a,B(R));break;case 225:R=K(),te(a,B(R));break;case 226:R=K(),a=ne(a,B(R));break;case 227:R=K(),l(be(I(),q(R)));break;case 228:R=K(),a=Le(a,B(R));break;case 229:R=K(),Le(a,B(R));break;case 230:R=K(),a=B(R),n&=~(o|S|A),n|=d[a];break;case 231:R=K(),u(R,a),n&=~(o|S|A),n|=d[a];break;case 232:R=K(),a=Ce(a,B(R));break;case 233:R=K(),a=ke(a,B(R));break;case 234:R=K(),a=fe(a,B(R));break;case 235:R=K(),a=se(a,B(R));break;case 236:R=K(),O=q(R),l(O),_(O),n&=~A;break;case 237:R=K(),z(R,I()),n&=~A;break;case 238:R=K(),s=q(R),_(s),n&=~A;break;case 239:R=K(),z(R,s),_(s),n&=~A;break;case 240:R=Z(),a=re(a,B(R));break;case 241:R=Z(),te(a,B(R));break;case 242:R=Z(),a=ne(a,B(R));break;case 243:R=Z(),l(be(I(),q(R)));break;case 244:R=Z(),a=Le(a,B(R));break;case 245:R=Z(),Le(a,B(R));break;case 246:R=Z(),a=B(R),n&=~(o|S|A),n|=d[a];break;case 247:R=Z(),u(R,a),n&=~(o|S|A),n|=d[a];break;case 248:R=Z(),a=Ce(a,B(R));break;case 249:R=Z(),a=ke(a,B(R));break;case 250:R=Z(),a=fe(a,B(R));break;case 251:R=Z(),a=se(a,B(R));break;case 252:R=Z(),O=q(R),l(O),_(O),n&=~A;break;case 253:R=Z(),z(R,I()),n&=~A;break;case 254:R=Z(),s=q(R),_(s),n&=~A;break;case 255:R=Z(),z(R,s),_(s),n&=~A;break;case 16:switch(N=Q(),M+=E[N],N){case 33:R=F(Z());break;case 34:R=F(Z()),n&(i|o)||(k+=R);break;case 35:R=F(Z()),n&(i|o)&&(k+=R);break;case 36:R=F(Z()),n&i||(k+=R);break;case 37:R=F(Z()),n&i&&(k+=R);break;case 38:R=F(Z()),n&o||(k+=R);break;case 39:R=F(Z()),n&o&&(k+=R);break;case 40:R=F(Z()),n&A||(k+=R);break;case 41:R=F(Z()),n&A&&(k+=R);break;case 42:R=F(Z()),n&S||(k+=R);break;case 43:R=F(Z()),n&S&&(k+=R);break;case 44:R=F(Z()),n&S^(n&A)<<2||(k+=R);break;case 45:R=F(Z()),n&S^(n&A)<<2&&(k+=R);break;case 46:R=F(Z()),n&S^(n&A)<<2||n&o||(k+=R);break;case 47:R=F(Z()),(n&S^(n&A)<<2||n&o)&&(k+=R);break;case 63:n|=L,Y(k),Y(s),Y(c),Y(r),X(t),X(a),X(e),X(n),n|=D|f,k=q(P);break;case 131:ue(I(),Z());break;case 140:ue(c,Z());break;case 142:c=Z(),_(c),n&=~A;break;case 147:R=ve(),ue(I(),q(R));break;case 156:R=ve(),ue(c,q(R));break;case 158:R=ve(),c=q(R),_(c),n&=~A;break;case 159:R=ve(),z(R,c),_(c),n&=~A;break;case 163:R=K(),ue(I(),q(R));break;case 172:R=K(),ue(c,q(R));break;case 174:R=K(),c=q(R),_(c),n&=~A;break;case 175:R=K(),z(R,c),_(c),n&=~A;break;case 179:R=Z(),ue(I(),q(R));break;case 188:R=Z(),ue(c,q(R));break;case 190:R=Z(),c=q(R),_(c),n&=~A;break;case 191:R=Z(),z(R,c),_(c),n&=~A;break;case 206:b=Z(),_(b),n&=~A;break;case 222:R=ve(),b=q(R),_(b),n&=~A;break;case 223:R=ve(),z(R,b),_(b),n&=~A;break;case 238:R=K(),b=q(R),_(b),n&=~A;break;case 239:R=K(),z(R,b),_(b),n&=~A;break;case 254:R=Z(),b=q(R),_(b),n&=~A;break;case 255:R=Z(),z(R,b),_(b),n&=~A}break;case 17:switch(N=Q(),M+=E[N],N){case 63:n|=L,Y(k),Y(s),Y(c),Y(r),X(t),X(a),X(e),X(n),n|=D|f,k=q(T);break;case 131:ue(s,Z());break;case 140:ue(b,Z());break;case 147:R=ve(),ue(s,q(R));break;case 156:R=ve(),ue(b,q(R));break;case 163:R=K(),ue(s,q(R));break;case 172:R=K(),ue(b,q(R));break;case 179:R=Z(),ue(s,q(R));break;case 188:R=Z(),ue(b,q(R))}}return e&=255,a&=255,n&=255,t&=255,r&=65535,c&=65535,s&=65535,b&=65535,k&=65535,M-C},Te=function(){k=q(R),t=0,n|=f|D,M=0},Me=[[2,1,"NEG"],[1,0,"???"],[1,0,"???"],[2,1,"COM"],[2,1,"LSR"],[1,0,"???"],[2,1,"ROR"],[2,1,"ASR"],[2,1,"LSL"],[2,1,"ROL"],[2,1,"DEC"],[1,0,"???"],[2,1,"INC"],[2,1,"TST"],[2,1,"JMP"],[2,1,"CLR"],[1,0,"Prefix"],[1,0,"Prefix"],[1,2,"NOP"],[1,2,"SYNC"],[1,0,"???"],[1,0,"???"],[3,3,"LBRA"],[3,3,"LBSR"],[1,0,"???"],[1,2,"DAA"],[2,4,"ORCC"],[1,0,"???"],[2,4,"ANDCC"],[1,2,"SEX"],[2,20,"EXG"],[2,20,"TFR"],[2,5,"BRA"],[2,5,"BRN"],[2,5,"BHI"],[2,5,"BLS"],[2,5,"BCC"],[2,5,"BCS"],[2,5,"BNE"],[2,5,"BEQ"],[2,5,"BVC"],[2,5,"BVS"],[2,5,"BPL"],[2,5,"BMI"],[2,5,"BGE"],[2,5,"BLT"],[2,5,"BGT"],[2,5,"BLE"],[2,6,"LEAX"],[2,6,"LEAY"],[2,6,"LEAS"],[2,6,"LEAU"],[2,10,"PSHS"],[2,10,"PULS"],[2,11,"PSHU"],[2,11,"PULU"],[1,0,"???"],[1,2,"RTS"],[1,2,"ABX"],[1,2,"RTI"],[2,2,"CWAI"],[1,2,"MUL"],[1,2,"RESET"],[1,2,"SWI1"],[1,2,"NEGA"],[1,0,"???"],[1,0,"???"],[1,2,"COMA"],[1,2,"LSRA"],[1,0,"???"],[1,2,"RORA"],[1,2,"ASRA"],[1,2,"ASLA"],[1,2,"ROLA"],[1,2,"DECA"],[1,0,"???"],[1,2,"INCA"],[1,2,"TSTA"],[1,0,"???"],[1,2,"CLRA"],[1,2,"NEGB"],[1,0,"???"],[1,0,"???"],[1,2,"COMB"],[1,2,"LSRB"],[1,0,"???"],[1,2,"RORB"],[1,2,"ASRB"],[1,2,"ASLB"],[1,2,"ROLB"],[1,2,"DECB"],[1,0,"???"],[1,2,"INCB"],[1,2,"TSTB"],[1,0,"???"],[1,2,"CLRB"],[2,6,"NEG"],[1,0,"???"],[1,0,"???"],[2,6,"COM"],[2,6,"LSR"],[1,0,"???"],[2,6,"ROR"],[2,6,"ASR"],[2,6,"LSL"],[2,6,"ROL"],[2,6,"DEC"],[1,0,"???"],[2,6,"INC"],[2,6,"TST"],[2,6,"JMP"],[2,6,"CLR"],[3,7,"NEG"],[1,0,"???"],[1,0,"???"],[3,7,"COM"],[3,7,"LSR"],[1,0,"???"],[3,7,"ROR"],[3,7,"ASR"],[3,7,"LSL"],[3,7,"ROL"],[3,7,"DEC"],[1,0,"???"],[3,7,"INC"],[3,7,"TST"],[3,7,"JMP"],[3,7,"CLR"],[2,4,"SUBA"],[2,4,"CMPA"],[2,4,"SBCA"],[3,8,"SUBD"],[2,4,"ANDA"],[2,4,"BITA"],[2,4,"LDA"],[1,0,"???"],[2,4,"EORA"],[2,4,"ADCA"],[2,4,"ORA"],[2,4,"ADDA"],[3,8,"CMPX"],[2,5,"BSR"],[3,8,"LDX"],[1,0,"???"],[2,1,"SUBA"],[2,1,"CMPA"],[2,1,"SBCA"],[2,1,"SUBd"],[2,1,"ANDA"],[2,1,"BITA"],[2,1,"LDA"],[2,1,"STA"],[2,1,"EORA"],[2,1,"ADCA"],[2,1,"ORA"],[2,1,"ADDA"],[2,1,"CMPX"],[2,1,"JSR"],[2,1,"LDX"],[2,1,"STX"],[2,6,"SUBA"],[2,6,"CMPA"],[2,6,"SBCA"],[2,6,"SUBD"],[2,6,"ANDA"],[2,6,"BITA"],[2,6,"LDA"],[2,6,"STA"],[2,6,"EORA"],[2,6,"ADCA"],[2,6,"ORA"],[2,6,"ADDA"],[2,6,"CMPX"],[2,6,"JSR"],[2,6,"LDX"],[2,6,"STX"],[3,7,"SUBA"],[3,7,"CMPA"],[3,7,"SBCA"],[3,7,"SUBD"],[3,7,"ANDA"],[3,7,"BITA"],[3,7,"LDA"],[3,7,"STA"],[3,7,"EORA"],[3,7,"ADCA"],[3,7,"ORA"],[3,7,"ADDA"],[3,7,"CMPX"],[3,7,"JSR"],[3,7,"LDX"],[3,7,"STX"],[2,4,"SUBB"],[2,4,"CMPB"],[2,4,"SBCB"],[3,8,"ADDD"],[2,4,"ANDB"],[2,4,"BITB"],[2,4,"LDB"],[1,0,"???"],[2,4,"EORB"],[2,4,"ADCB"],[2,4,"ORB"],[2,4,"ADDB"],[3,8,"LDD"],[1,0,"???"],[3,8,"LDU"],[1,0,"???"],[2,1,"SUBB"],[2,1,"CMPB"],[2,1,"SBCB"],[2,1,"ADDD"],[2,1,"ANDB"],[2,1,"BITB"],[2,1,"LDB"],[2,1,"STB"],[2,1,"EORB"],[2,1,"ADCB"],[2,1,"ORB "],[2,1,"ADDB"],[2,1,"LDD "],[2,1,"STD "],[2,1,"LDU "],[2,1,"STU "],[2,6,"SUBB"],[2,6,"CMPB"],[2,6,"SBCB"],[2,6,"ADDD"],[2,6,"ANDB"],[2,6,"BITB"],[2,6,"LDB"],[2,6,"STB"],[2,6,"EORB"],[2,6,"ADCB"],[2,6,"ORB"],[2,6,"ADDB"],[2,6,"LDD"],[2,6,"STD"],[2,6,"LDU"],[2,6,"STU"],[3,7,"SUBB"],[3,7,"CMPB"],[3,7,"SBCB"],[3,7,"ADDD"],[3,7,"ANDB"],[3,7,"BITB"],[3,7,"LDB"],[3,7,"STB"],[3,7,"EORB"],[3,7,"ADCB"],[3,7,"ORB"],[3,7,"ADDB"],[3,7,"LDD"],[3,7,"STD"],[3,7,"LDU"],[3,7,"STU"]],Ue={63:[2,2,"SWI3"],131:[4,8,"CMPU"],140:[4,8,"CMPS"],147:[3,1,"CMPU"],156:[3,1,"CMPS"],163:[3,6,"CMPU"],172:[3,6,"CMPS"],179:[4,7,"CMPU"],188:[4,7,"CMPS"]},Ee={33:[5,3,"LBRN"],34:[5,3,"LBHI"],35:[5,3,"LBLS"],36:[5,3,"LBCC"],37:[5,3,"LBCS"],38:[5,3,"LBNE"],39:[5,3,"LBEQ"],40:[5,3,"LBVC"],41:[5,3,"LBVS"],42:[5,3,"LBPL"],43:[5,3,"LBMI"],44:[5,3,"LBGE"],45:[5,3,"LBLT"],46:[5,3,"LBGT"],47:[5,3,"LBLE"],63:[2,2,"SWI2"],131:[4,8,"CMPD"],140:[4,8,"CMPY"],142:[4,8,"LDY"],147:[3,1,"CMPD"],156:[3,1,"CMPY"],158:[3,1,"LDY"],159:[3,1,"STY"],163:[3,6,"CMPD"],172:[3,6,"CMPY"],174:[3,6,"LDY"],175:[3,6,"STY"],179:[4,7,"CMPD"],188:[4,7,"CMPY"],190:[4,7,"LDY"],191:[4,7,"STY"],206:[4,8,"LDS"],222:[3,1,"LDS"],223:[3,1,"STS"],238:[3,6,"LDS"],239:[3,6,"STS"],254:[4,7,"LDS"],255:[4,7,"STS"]},de=function(e,a,r,c,s,b){var k,n,t,u=function(e,a){for(var r=e.toString(16);r.length<a;)r="0"+r;return r.toUpperCase()},B=function(e){return u(255&e,2)},i=function(e){return u(e,4)},A=Me[e];if(16===e){if(A=Ee[a],void 0===A)return["???",2];e=a,a=r,r=c,c=s}if(17===e){if(A=Ue[a],void 0===A)return["???",2];e=a,a=r,r=c,c=s}var o=A[0],S=A[1],D=A[2];switch(S){case 0:break;case 1:D+=" $"+B(a);break;case 2:break;case 3:D+=" #$"+i(32768>256*a+r?256*a+r+b:256*a+r+b-65536);break;case 4:D+=" #$"+B(a);break;case 5:D+=" #$"+i(128>a?a+b+2:a+b-254);break;case 6:D+=" ";var C=a,f=["X","Y","U","S"][(96&C)>>5];if(!(128&C)){var L=31&C;L>15&&(L-=32),D+=L+","+f;break}var R=16&C,v=15&C,P=r>127?r-256:r,T=256*r+c>32767?256*r+c-65536:256*r+c;if(R)switch(v){case 0:D+="???";break;case 1:D+="[,"+f+"++]";break;case 2:D+="???";break;case 3:D+="[,--"+f+"]";break;case 4:D+="[,"+f+"]";break;case 5:D+="[B,"+f+"]";break;case 6:D+="[A,"+f+"]";break;case 7:D+="???";break;case 8:D+="["+P+","+f+"]",o++;break;case 9:D+="["+T+","+f+"]",o+=2;break;case 10:D+="???";break;case 11:D+="[D,"+f+"]";break;case 12:D+="["+P+",PC]",o++;break;case 13:D+="["+T+",PC]",o+=2;break;case 14:D+="???";break;case 15:D+="[$"+i(256*r+c)+"]",o+=2}else switch(v){case 0:D+=","+f+"+";break;case 1:D+=","+f+"++";break;case 2:D+=",-"+f;break;case 3:D+=",--"+f;break;case 4:D+=","+f;break;case 5:D+="B,"+f;break;case 6:D+="A,"+f;break;case 7:D+="???";break;case 8:D+=P+","+f,o++;break;case 9:D+=T+","+f,o+=2;break;case 10:D+="???";break;case 11:D+="D,"+f;break;case 12:D+=P+",PC",o++;break;case 13:D+=T+",PC",o+=2;break;case 14:D+="???";break;case 15:D+="$"+i(256*r+c),o+=2}break;case 7:D+=" $"+i(256*a+r);break;case 8:D+=" #$"+i(256*a+r);break;case 10:for(k=["PC","U","Y","X","DP","B","A","CC"],n=[],t=0;8>t;t++)0!==(1&a)&&n.push(k[7-t]),a>>=1;D+=" "+n.join(",");break;case 11:for(k=["PC","S","Y","X","DP","B","A","CC"],n=[],t=0;8>t;t++)0!==(1&a)&&n.push(k[7-t]),a>>=1;D+=" "+n.join(",");break;case 20:k=["D","X","Y","U","S","PC","?","?","A","B","CC","DP","?","?","?","?"],D+=" "+k[a>>4]+","+k[15&a]}return[D,o]};return{steps:function(e){for(;e>0;)e-=Pe()},T:function(){return M},reset:Te,init:function(e,a,r){u=e,B=a,ticks=r,Te()},status:function(){return{pc:k,sp:b,u:s,a:e,b:a,x:r,y:c,dp:t,flags:n}},interrupt:function(){},nmi:function(){},set:function(t,u){switch(t.toUpperCase()){case"PC":return void(k=u);case"A":return void(e=u);case"B":return void(a=u);case"X":return void(r=u);case"Y":return void(c=u);case"SP":return void(b=u);case"U":return void(s=u);case"FLAGS":return void(n=u)}},flagsToString:function(){for(var e="",a="EFHINZVC",r=0;8>r;r++){var c=n&128>>r;e+=0===c?a[r].toLowerCase():a[r]}return e},disasm:de}});